function newFile(){editor.setValue("# Write down your code ...\n")}function loadFile(e){var pythonCode=e.target.result;pythonCode&&editor.setValue(pythonCode),apendConsoleLog("Python code loaded from local disk.")}function saveFile(){file=new File([editor.getValue()],"HackerSchool.py",{type:"text/plain;charset=utf-8"}),saveAs(file),apendConsoleLog("Python code saved on local disk.")}function getPythonCode(){return editor.getValue()}function openLoadDialog(){loadDialog=document.getElementById("loadDialog"),loadDialog.style.display="block"}function loadSelectedFile(){closeLoadDialog();var input,file,fr;"function"==typeof window.FileReader?(input=document.getElementById("fileinput"))?input.files?input.files[0]?(file=input.files[0],(fr=new FileReader).onload=loadFile,fr.readAsText(file)):alert("Please select a file before clicking `Load`"):alert("This browser does not seem to support the `files` property of file inputs."):alert("Um, could not find the fileinput element."):alert("The file API is not supported on this browser yet.")}function closeLoadDialog(){loadDialog=document.getElementById("loadDialog"),loadDialog.style.display="none"}function openConsoleLogDialog(){consoleLogDialog=document.getElementById("consoleLogDialog"),consoleLogDialog.style.display="block"}function closeConsoleLogDialog(){consoleLogDialog=document.getElementById("consoleLogDialog"),consoleLogDialog.style.display="none"}function command(value){if("execute"==value){val=getPythonCode();var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){4==this.readyState&&(200==this.status?apendConsoleLog(this.responseText):alert("Could not set execute the command on the server."))},xhttp.open("POST","__Execute__",!1),xhttp.send(val)}}function apendConsoleLog(message){var time=(new Date).toLocaleTimeString().replace("/.*(d{2}:d{2}:d{2}).*/","$1");document.getElementById("consoleLog").value=time+"\n\n"+message,openConsoleLogDialog()}var editor;docReady(function(){(editor=ace.edit("editor")).setTheme("ace/theme/tomorrow_night"),editor.session.setMode("ace/mode/python")}),docReady(function(){document.getElementById("fileinput").addEventListener("change",function(e){var fileName="";(fileName=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())&&(document.getElementById("fileLabel").querySelector("span").innerHTML=fileName)})}),window.onclick=function(event){loadDialog=document.getElementById("loadDialog"),event.target==loadDialog&&closeLoadDialog(),consoleLogDialog=document.getElementById("consoleLogDialog"),event.target==consoleLogDialog&&closeConsoleLogDialog()};