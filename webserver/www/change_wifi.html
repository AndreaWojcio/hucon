<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="de">

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Hacker School :)</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">

    <!-- Hacker School web server -->
    <script type="text/javascript" src="js/webserver.min.js"></script>

    <script type="text/javascript">
        docReady(function(){
            var data = {};
            data['command'] = 'get_wifis';

            document.getElementById('wifiText').hidden = true

            ajax('POST', '__COMMAND__', JSON.stringify(data), function(message) {
                selection = document.getElementById('wifiSelect');
                for(i = selection.options.length - 1 ; i >= 0 ; i--) {
                    selection.remove(i);
                }

                var data = JSON.parse(message);

                for (i=0; i<data['wifis'].length; i++) {
                    var ap_name = data['wifis'][i];
                    var opt = document.createElement('option');
                    opt.text = ap_name;
                    opt.value = ap_name;
                    selection.options.add(opt);
                }

                document.getElementById('wifiText').value = selection.options[selection.selectedIndex].value;
            });
        });
    </script>
<head>
</head>
<body id="body">

    <div class="center_xy">
        <h1>Change your Wifi Settings</h1>
        <table>
            <tr>
                <td>Select Network:</td>
            </tr>
            <tr>
                <td>
                    <div class="select-editable">
                        <select id="wifiSelect" onchange="this.nextElementSibling.value=this.value"></select>
                        <input id="wifiText" type="text" name="format" value=""/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Password:</td>
            </tr>
            <tr>
                <td><input type="password" id="password" style="width: 100%; height: 35px; font-size: 25px"/></td>
            </tr>
        </table>
        <button onclick="command('set_wifi')" class="button">Save</button>

        <form action="index.html" style="margin-top:100px">
            <input type="submit" class="button_big" value="Index" />
        </form>

    </div>

    <div id="consoleLogDialog" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Console Log</h2>
            </div>
            <div class="modal-body">
                <textarea class="text" id="consoleLog"></textarea>
                <button onclick="closeConsoleLogDialog()" class="button">Close</button>
            </div>
        </div>
    </div>

</body>
</html>